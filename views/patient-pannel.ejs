<%- include('layouts/header') %>

<div class="container-fluid mt-5">
  <div class="row">
    <!-- Sidebar -->
    <div class="col-md-3">
      <div class="sidebar">
        <ul class="list-group">
          <li class="list-group-item active" aria-current="true" onclick="showDashboard()">Dashboard</li>
          <li class="list-group-item" onclick="bookAppointment()">Book Appointment</li>
          <li class="list-group-item" onclick="showPatientList()">Appointment History</li>
          <li class="list-group-item" onclick="prescriptionF()">Prescriptions</li>
          <!-- <li class="list-group-item" onclick="addDoctorForm()">Add Doctor</li>
          <li class="list-group-item" onclick="deleteDoctorForm()">Delete Doctor</li>
          <li class="list-group-item" onclick="queryDoctorForm()">Queries</li> -->
        </ul>
      </div>
    </div>

    <!-- Main Content -->
    <div class="col-md-9">
      <h1>Welcome <%= name  %></h1>

      <div id="patientForm" style="display: none;">
        <div class="container-fluid mt-5">
                <h1>Schedule an Appointment</h1>
                <form action="/appointments/create" method="post">
                  <!-- Specialization Dropdown -->
                  <div class="mb-3">
                    <label for="specialization" class="form-label">Specialization</label>
                    <select class="form-select" id="specialization" name="specialization" required>
                      <% doctors.forEach((doctor) => { %>
                        <option value="<%= doctor.spec %>"><%= doctor.spec %></option>
                      <% }) %>
                    </select>
                  </div>
          
                  <!-- Doctor Name Dropdown -->
                  <div class="mb-3">
                    <label for="doctorName" class="form-label">Doctor Name</label>
                    <select class="form-select" id="doctorName" name="doctorName" required>
                      <% doctors.forEach((doctor) => { %>
                        <option value="<%= doctor._id %>"><%= doctor.doctorname %></option>
                      <% }) %>
                    </select>
                  </div>
          
                  <!-- Appointment Date -->
                  <div class="mb-3">
                    <label for="appointmentDate" class="form-label">Appointment Date</label>
                    <input type="date" class="form-control" id="appointmentDate" name="appointmentDate" required>
                  </div>
          
                  <!-- Appointment Time -->
                  <div class="mb-3">
                    <label for="appointmentTime" class="form-label"></label>
                    <input type="time" class="form-control" id="appointmentTime" name="appointmentTime" required>
                  </div>
                  <input type="hidden" id="hiddenField" name="hiddenField" value="<%=email  %>">
          
                  <!-- Submit Button -->
                  <button type="submit" class="btn btn-primary">Schedule Appointment</button>
                </form>
          </div>
      </div>

      <div id="patientList" style="display: none;">
       patientList
      </div>

      <div id="DoctorList" style="display: none;">
        <div class="container mt-5">
          doctorList
        </div>
      </div>

      <div id="appointmentList" style="display: none;">
        <h2>Appointment List</h2>
        <!-- Content for appointment list goes here -->
      </div>

      <div id="deleteDoctor" style="display: none;">
        <h2>Delete doctor</h2>
        <!-- Content for delete doctor form goes here -->
      </div>

    </div>
  </div>
</div>

<script>
  function showDashboard() {
    // Your logic for showing the dashboard
  }

  function bookAppointment() {
    hideAll();
    document.getElementById('patientForm').style.display = 'block';
  }

  function showPatientList() {
    hideAll();
    document.getElementById('patientList').style.display = 'block';
  }

  function showAppointment() {
    hideAll();
    document.getElementById('appointmentList').style.display = 'block';
  }

 

  function hideAll() {
    const elements = ['patientForm', 'patientList', 'DoctorList', 'appointmentList', 'deleteDoctor'];
    elements.forEach(id => {
      document.getElementById(id).style.display = 'none';
    });
  }

  $(document).ready(function () {
    $('.list-group-item').click(function () {
      $('.list-group-item').removeClass('active');
      $(this).addClass('active');
    });
  });
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7
